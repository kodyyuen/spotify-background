{"ast":null,"code":"import axios from \"axios\";\nimport { Buffer } from \"buffer\";\nconst getApiKey = async () => {\n  const response = await axios.post(\"https://accounts.spotify.com/api/token\", {\n    refresh_token: process.env.REACT_APP_SPOTIFY_REFRESH_TOKEN,\n    grant_type: \"refresh_token\"\n  }, {\n    headers: {\n      Authorization: `Basic ${Buffer.from(`${process.env.REACT_APP_SPOTIFY_CLIENT_ID}:${process.env.REACT_APP_SPOTIFY_CLIENT_SECRET}`, \"utf-8\").toString(\"base64\")}`,\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n    }\n  });\n  return response.data.access_token;\n};\nexport const getSpotifyCurrentSong = async () => {\n  const apiKey = await getApiKey();\n  const response = await axios.get(\"https://api.spotify.com/v1/me/player/currently-playing\", {\n    headers: {\n      Authorization: `Bearer ${apiKey}`\n    }\n  });\n  return response.data;\n};\nexport const getLyrics = async ({\n  track,\n  artist\n}) => {\n  console.log(params);\n  return await axios.get(`${process.env.REACT_APP_BACKEND_BASE_URL}/mxm/get-lyrics/${track}/${artist}`);\n};","map":{"version":3,"names":["axios","Buffer","getApiKey","response","post","refresh_token","process","env","REACT_APP_SPOTIFY_REFRESH_TOKEN","grant_type","headers","Authorization","from","REACT_APP_SPOTIFY_CLIENT_ID","REACT_APP_SPOTIFY_CLIENT_SECRET","toString","data","access_token","getSpotifyCurrentSong","apiKey","get","getLyrics","track","artist","console","log","params","REACT_APP_BACKEND_BASE_URL"],"sources":["C:/Users/kody/projects/spotify-background/client/src/spotify/app-service.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { Buffer } from \"buffer\";\r\n\r\nconst getApiKey = async () => {\r\n  const response = await axios.post(\r\n    \"https://accounts.spotify.com/api/token\",\r\n    {\r\n      refresh_token: process.env.REACT_APP_SPOTIFY_REFRESH_TOKEN,\r\n      grant_type: \"refresh_token\",\r\n    },\r\n    {\r\n      headers: {\r\n        Authorization: `Basic ${Buffer.from(\r\n          `${process.env.REACT_APP_SPOTIFY_CLIENT_ID}:${process.env.REACT_APP_SPOTIFY_CLIENT_SECRET}`,\r\n          \"utf-8\"\r\n        ).toString(\"base64\")}`,\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      },\r\n    }\r\n  );\r\n\r\n  return response.data.access_token;\r\n};\r\n\r\nexport const getSpotifyCurrentSong = async () => {\r\n  const apiKey = await getApiKey();\r\n\r\n  const response = await axios.get(\r\n    \"https://api.spotify.com/v1/me/player/currently-playing\",\r\n    {\r\n      headers: { Authorization: `Bearer ${apiKey}` },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport const getLyrics = async ({track, artist}) => {\r\n  console.log(params);\r\n  return await axios.get(\r\n    `${process.env.REACT_APP_BACKEND_BASE_URL}/mxm/get-lyrics/${track}/${artist}`,\r\n  );\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,QAAQ;AAE/B,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,IAAI,CAC/B,wCAAwC,EACxC;IACEC,aAAa,EAAEC,OAAO,CAACC,GAAG,CAACC,+BAA+B;IAC1DC,UAAU,EAAE;EACd,CAAC,EACD;IACEC,OAAO,EAAE;MACPC,aAAa,EAAG,SAAQV,MAAM,CAACW,IAAI,CAChC,GAAEN,OAAO,CAACC,GAAG,CAACM,2BAA4B,IAAGP,OAAO,CAACC,GAAG,CAACO,+BAAgC,EAAC,EAC3F,OACF,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAE,EAAC;MACtB,cAAc,EAAE;IAClB;EACF,CACF,CAAC;EAED,OAAOZ,QAAQ,CAACa,IAAI,CAACC,YAAY;AACnC,CAAC;AAED,OAAO,MAAMC,qBAAqB,GAAG,MAAAA,CAAA,KAAY;EAC/C,MAAMC,MAAM,GAAG,MAAMjB,SAAS,CAAC,CAAC;EAEhC,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACoB,GAAG,CAC9B,wDAAwD,EACxD;IACEV,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASQ,MAAO;IAAE;EAC/C,CACF,CAAC;EACD,OAAOhB,QAAQ,CAACa,IAAI;AACtB,CAAC;AAED,OAAO,MAAMK,SAAS,GAAG,MAAAA,CAAO;EAACC,KAAK;EAAEC;AAAM,CAAC,KAAK;EAClDC,OAAO,CAACC,GAAG,CAACC,MAAM,CAAC;EACnB,OAAO,MAAM1B,KAAK,CAACoB,GAAG,CACnB,GAAEd,OAAO,CAACC,GAAG,CAACoB,0BAA2B,mBAAkBL,KAAM,IAAGC,MAAO,EAC9E,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}