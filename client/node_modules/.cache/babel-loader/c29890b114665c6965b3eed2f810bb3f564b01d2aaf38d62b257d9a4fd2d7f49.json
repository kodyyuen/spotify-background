{"ast":null,"code":"import axios from \"axios\";\nconst getApiKey = async () => {\n  const response = await axios.post(\"https://accounts.spotify.com/api/token\", {\n    refresh_token: process.env.REACT_APP_REFRESH_TOKEN,\n    grant_type: \"refresh_token\"\n  }, {\n    headers: {\n      Authorization: `Basic ${Buffer.from(`${process.env.REACT_APP_CLIENT_ID}:${process.env.REACT_APP_CLIENT_SECRET}`, \"utf-8\").toString(\"base64\")}`,\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n    }\n  });\n  return response.data.access_token;\n};\nexport const getSpotifyCurrentSong = async () => {\n  const apiKey = await getApiKey();\n  const response = await axios.get(\"https://api.spotify.com/v1/me/player/currently-playing\", {\n    headers: {\n      Authorization: `Bearer ${apiKey}`\n    }\n  });\n  return response.data;\n};","map":{"version":3,"names":["axios","getApiKey","response","post","refresh_token","process","env","REACT_APP_REFRESH_TOKEN","grant_type","headers","Authorization","Buffer","from","REACT_APP_CLIENT_ID","REACT_APP_CLIENT_SECRET","toString","data","access_token","getSpotifyCurrentSong","apiKey","get"],"sources":["C:/Users/kody/projects/spotify-lyrics-background/src/spotify/app-service.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst getApiKey = async () => {\r\n  const response = await axios.post(\r\n    \"https://accounts.spotify.com/api/token\",\r\n    {\r\n      refresh_token: process.env.REACT_APP_REFRESH_TOKEN,\r\n      grant_type: \"refresh_token\",\r\n    },\r\n    {\r\n      headers: {\r\n        Authorization: `Basic ${Buffer.from(\r\n          `${process.env.REACT_APP_CLIENT_ID}:${process.env.REACT_APP_CLIENT_SECRET}`,\r\n          \"utf-8\"\r\n        ).toString(\"base64\")}`,\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      },\r\n    }\r\n  );\r\n\r\n  return response.data.access_token;\r\n};\r\n\r\nexport const getSpotifyCurrentSong = async () => {\r\n  const apiKey = await getApiKey();\r\n\r\n  const response = await axios.get(\"https://api.spotify.com/v1/me/player/currently-playing\", {\r\n    headers: { Authorization: `Bearer ${apiKey}` },\r\n  });\r\n  return response.data;\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,MAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACG,IAAI,CAC/B,wCAAwC,EACxC;IACEC,aAAa,EAAEC,OAAO,CAACC,GAAG,CAACC,uBAAuB;IAClDC,UAAU,EAAE;EACd,CAAC,EACD;IACEC,OAAO,EAAE;MACPC,aAAa,EAAG,SAAQC,MAAM,CAACC,IAAI,CAChC,GAAEP,OAAO,CAACC,GAAG,CAACO,mBAAoB,IAAGR,OAAO,CAACC,GAAG,CAACQ,uBAAwB,EAAC,EAC3E,OACF,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAE,EAAC;MACtB,cAAc,EAAE;IAClB;EACF,CACF,CAAC;EAED,OAAOb,QAAQ,CAACc,IAAI,CAACC,YAAY;AACnC,CAAC;AAED,OAAO,MAAMC,qBAAqB,GAAG,MAAAA,CAAA,KAAY;EAC/C,MAAMC,MAAM,GAAG,MAAMlB,SAAS,CAAC,CAAC;EAEhC,MAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACoB,GAAG,CAAC,wDAAwD,EAAE;IACzFX,OAAO,EAAE;MAAEC,aAAa,EAAG,UAASS,MAAO;IAAE;EAC/C,CAAC,CAAC;EACF,OAAOjB,QAAQ,CAACc,IAAI;AACtB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}